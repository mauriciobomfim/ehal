digraph G {
	node [	fontname = "Bitstream Vera Sans Mono"
		shape = "record"
		fontsize = 12 ]
        edge [	fontname = "Bitstream Vera Sans Mono"
		fontsize = 8 ]

/*------------------------------------------------------------------------*/
	subgraph cluster_ehal {
		label="ehal";
		pio [ label="{\
pio\
|\
- write : pio_t\l\
- direction : pio_t\l\
- read : pio_t\l\
|\
+ pio_write		(port : u08, val : pio_t, mask : pio_t)	: u08\l\
+ pio_read		(port : u08, mask : pio_t, *port: pio_t): u08\l\
+ pio_dir		(port : u08, dir : pio_t, mask : pio_t)	: u08\l\
+ pio_pullup		(port : u08, pull : pio_t, mask : pio_t): u08\l\
}" ]
		spim [ label="{\
spim : queue\
|\
|\
+ spim_init	(spi : u08, freq : u08, cpol : u08, cpha : u08) : void\l\
+ spim_buswidth	(spi : u08, buswidth : u08) : void\l\
+ spim_xmit	(spi : u08, data : spi_t) : spi_t\l\
}" ]
		spim_int [ label="{\
|\
+ tx : queue_t\l\
+ rx : queue_t\l\
- xmit_end : function_pointer\l\
|\
+ spim_init	(spi : u08, freq : u08, cpol : u08, cpha : u08) : void\l\
+ spim_signal	(spi : u08, spi_fnp_t callback)\l\
+ spim_int_xmit	(spi : u08) : void\l\
}" ]
		uart [ label="{\
uart\
||\
+ uart_init	(u : u08, baud) : void\l\
+ uart_send	(u : u08, data) : void\l\
+ uart_recv	(u : u08) : u08\l\
}" ]
		i2cm [ label="{\
i2cm\
||\
+ i2cm_init (i : u08, freq : u08) : void\
}" ]
		tmr [ label="{\
tmr\
||\
}" ]
		adc [ label="{\
adc\
||\
}" ]
		pwm [ label="{\
pwm\
||\
}" ]
		eeprom [ label="{\
eeprom\
||\
eep_write_byte	(prt : eep_t, data : u08)	: u08\l\
eep_write_word	(prt : eep_t, data : u16)	: u08\l\
eep_write_dword	(prt : eep_t, data : u32)	: u08\l\
\
eep_read_byte	(prt : eep_t, *data : u08)	: u08 \l\
eep_read_word	(prt : eep_t, *data : u16)	: u08 \l\
eep_read_dword	(prt : eep_t, *data : u32)	: u08 \l\
}" ]
		rtc [ label="{\
rtc\
||\
}" ]
		int [ label="{\
int\
||\
}" ]
		ccp [ label="{\
ccp\
||\
}" ]
		eth [ label="{\
eth\
||\
}" ]
		dma [ label="{\
dma\
||\
}" ]
	}
/*------------------------------------------------------------------------*/
	subgraph cluster_gelila {
		label="Gelila";

		hd44780 [ label="{\
hd44780\
|\
+ data_port	: u08\l\
+ data_pin0	: pio_t\l\
+ en		: pio_pin_t\l\
+ rs		: pio_pin_t\l\
+ rw		: pio_pin_t\l\
- x		: u08\l\
- y		: u08\l\
|\
+ hd44780_init	(disp : hd44780_t)			: void\l\
+ hd44780_putc	(disp : hd44780_t, c : char)		: void\l\
+ hd44780_getc	(disp : hd44780_t)			: char\l\
+ hd44780_puts	(disp : hd44780_t, *s: const char)	: void\l\
+ hd44780_goto	(disp : hd44780_t, x, y)		: void\l\
}" ]
		ks0108b [ label="{\
ks0108b\
|\
+ data_port	: pio_t\l\
+ data_pin0	: pio_t\l\
+ en		: pio_pin_t\l\
+ rs		: pio_pin_t\l\
+ rw		: pio_pin_t\l\
+ cs		: pio_pin_t\l\
- x		: u08\l\
- y		: u08\l\
|\
+ ks0108b_init (disp : ks0108b_t) : void\l\
+ ks0108b_putc (disp : ks0108b_t, c : char) : void\l\
+ ks0108b_puts (disp : ks0108b_t, *s : const char) : void\l\
+ ks0108b_goto (disp : ks0108b_t, x : u08, y : 08) : void\l\
}" ]
		hd44780 -> pio;
		ks0108b -> pio;
	}
}
