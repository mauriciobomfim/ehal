digraph G {
	node [
		fontname = "Bitstream Vera Sans Mono"
		fontsize = 8
		shape = "record"
	]
        edge [
		fontname = "Bitstream Vera Sans Mono"
		fontsize = 8
        ]

	subgraph cluster_ehal {
		label="ehal";

/*------------------------------------------------------------------------*/
		pio [ label="{\
pio\
|\l\
|\
+void		pio_val		(pio_port p, pio_port val, pio_port mask)\l\
+void		pio_dir		(pio_port p, pio_port val, pio_port mask)\l\
+void		pio_pullup	(pio_port p, pio_port val, pio_port mask)\l\
+pio_port	pio_read	(pio_port p, pio_port mask)\l}" ]

/*------------------------------------------------------------------------*/
		spim [ label="{\
spim\
||\
+void	spim_init (s, cpol, cpha)\l\
+data	spim_xmit (s, data)\l}" ]

/*------------------------------------------------------------------------*/
		uart [ label="{\
uart\
||\
+void	uart_init	(u, baud)\l\
+void	uart_send	(u, data)\l\
+data	uart_recv	(u)\l}" ]

/*------------------------------------------------------------------------*/
		i2cm [ label="{\
i2cm|\
||\
+void	i2cm_init (i, freq)\
}" ]
		tmr
		adc
		pwm
		rtc
		int
		ccp
		eth
	}

	subgraph cluster_genlib {
		label="genlib";
		{hd44780 ks0108b} -> pio;
		{mmc} -> spim;
		{gps} -> uart;
		{ds1307} -> i2cm;
	}
}
